<!DOCTYPE html>
<html>
  <head>
    <title>Matrix Effect with Three.js Cube</title>
    <style>
      body,
      html {
        margin: 0;
        overflow: hidden;
      }
      canvas {
        display: block;
      }
      #matrixCanvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: -1;
      }
    </style>
    <script type="module" crossorigin src="/assets/index-DB_2U0uV.js"></script>
  </head>
  <body>
    <canvas id="matrixCanvas"></canvas>
    <script src="https://unpkg.com/three@0.126.1/build/three.min.js"></script>
    <script>
      function matrixEffect() {
        const c = document.getElementById("matrixCanvas");
        const ctx = c.getContext("2d");

        // Making the canvas full screen
        c.height = window.innerHeight;
        c.width = window.innerWidth;

        // Characters used in the Matrix effect
        const matrixChars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        const charsArray = matrixChars.split("");

        const fontSize = 10;
        const columns = c.width / fontSize; // Number of columns for the rain
        const rainDrops = [];

        // X below is the x coordinate
        // 1 = y-coordinate of the drop(same for every drop initially)
        for (let x = 0; x < columns; x++) rainDrops[x] = 1;

        // Drawing the characters
        function draw() {
          // Black BG for the canvas
          // Translucent BG to show trail
          ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
          ctx.fillRect(0, 0, c.width, c.height);

          ctx.fillStyle = "#0F0"; // Green text
          ctx.font = fontSize + "px monospace";

          // Looping over drops
          for (let i = 0; i < rainDrops.length; i++) {
            // A random character to print
            const text =
              charsArray[Math.floor(Math.random() * charsArray.length)];
            // X = i*fontSize, Y = value of drops[i]*fontSize
            ctx.fillText(text, i * fontSize, rainDrops[i] * fontSize);

            // Sending the drop back to the top randomly after it has crossed the screen
            // Adding a randomness to the reset to make the drops scattered on the Y axis
            if (rainDrops[i] * fontSize > c.height && Math.random() > 0.975)
              rainDrops[i] = 0;

            // Incrementing Y coordinate
            rainDrops[i]++;
          }
        }

        setInterval(draw, 33);
      }

      matrixEffect();
    </script>
  </body>
</html>
